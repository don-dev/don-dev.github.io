{"version":3,"sources":["owlcarousel/src/js/owl.carousel.js"],"names":["$","window","document","undefined","Owl","element","options","settings","extend","Defaults","$element","_handlers","_plugins","_supress","_current","_speed","_coordinates","_breakpoint","_width","_items","_clones","_mergers","_widths","_invalidated","_pipe","_drag","time","target","pointer","stage","start","current","direction","_states","tags","each","proxy","i","handler","Plugins","key","plugin","charAt","toLowerCase","slice","Workers","priority","worker","push","filter","run","setup","initialize","items","loop","center","rewind","mouseDrag","touchDrag","pullDrag","freeDrag","margin","stagePadding","merge","mergeFit","autoWidth","startPosition","rtl","smartSpeed","fluidSpeed","dragEndSpeed","responsive","responsiveRefreshRate","responsiveBaseElement","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","refreshClass","loadedClass","loadingClass","rtlClass","responsiveClass","dragClass","itemClass","stageClass","stageOuterClass","grabClass","Width","Default","Inner","Outer","Type","Event","State","width","cache","relative","$stage","children","remove","grid","css","toFixed","iterator","length","widths","Math","min","clones","view","max","size","ceil","repeat","append","prepend","normalize","outerHTML","addClass","appendTo","prependTo","previous","coordinates","padding","abs","eq","removeAttr","index","minimum","maximum","reset","animate","begin","end","inner","outer","matches","n","op","removeClass","join","prototype","enter","trigger","toggleClass","is","imgs","nestedSelector","find","preloadAutoWidthImages","wrap","parent","replace","not","refresh","invalidate","registerEventHandlers","leave","viewport","overwrites","match","breakpoint","Number","attr","RegExp","property","name","value","optionsLogic","prepare","item","event","content","data","update","p","all","grep","dimension","onThrottledResize","clearTimeout","resizeTimer","setTimeout","onResize","isDefaultPrevented","support","transition","on","onTransitionEnd","onDragStart","onDragEnd","which","transform","split","x","y","position","left","top","stop","type","speed","Date","getTime","one","delta","difference","onDragMove","preventDefault","pull","off","closest","coordinate","transform3d","state","part","map","v","suppress","release","m","isNumeric","reciprocalItemsWidth","elementWidth","mergers","odd","even","multiplier","newPosition","duration","from","to","factor","revert","distance","next","prev","stopPropagation","srcElement","originalTarget","get","innerWidth","documentElement","clientWidth","console","warn","empty","jQuery","nodeType","addBack","add","after","before","splice","images","Image","e","src","destroy","unwrap","contents","removeData","a","o","b","listener","capture","addEventListener","attachEvent","removeEventListener","detachEvent","namespace","status","count","camelCase","relatedTarget","onTrigger","register","call","concat","object","special","owl","_default","apply","indexOf","arguments","tag","inArray","events","result","originalEvent","touches","changedTouches","pageX","pageY","clientX","clientY","number","isNaN","parseFloat","first","second","fn","owlCarousel","option","args","Array","$this","Constructor","Zepto"],"mappings":"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","file":"owl.carousel.js","sourcesContent":["/**\n * Owl carousel\n * @version 2.1.6\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\t// TODO: Should be computed from number of min width items in stage\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat--) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\tappend = append + items[clones[clones.length - 1]][0].outerHTML;\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\tprepend = items[clones[clones.length - 1]][0].outerHTML + prepend;\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t\t$(append).addClass('cloned').appendTo(this.$stage);\n\t\t\t$(prepend).addClass('cloned').prependTo(this.$stage);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + ' class=\"' + this.settings.stageClass + '\"/>')\n\t\t\t.wrap('<div class=\"' + this.settings.stageOuterClass + '\"/>');\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.$element.is(':visible')) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.$element.is(':visible')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] || value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\telementWidth = this.$element.width();\n\t\t\twhile (iterator--) {\n\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.$element.is(':visible')) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n"]}