{"version":3,"sources":["components/customer.js"],"names":["exports","init","$","document","ready","customerSearch","debug","DebounceCall","func","wait","immediate","timeout","args","context","timestamp","result","dateNow","Date","now","getTime","later","last","setTimeout","apply","arguments","callNow","GetResultCount","currentCount","filter","css","length","FilterList","triggeredCount","currentTime","selectTerm","searchTerm","timeOut","updateGrid","val","find","parent","slideUp","slideDown","stringValue","html","keyup","e","toLowerCase","clearTimeout","change","BindEvents","each","text","on","toggle","toggleClass","console","log"],"mappings":"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","file":"customer.js","sourcesContent":["exports.init = function($) {\n  $(document).ready(function() {\n    var customerSearch = {\n      debug: false,\n      DebounceCall: function(func, wait, immediate) {\n        var timeout, args, context, timestamp, result;\n\n        var dateNow =\n          Date.now ||\n          function() {\n            return new Date().getTime();\n          };\n\n        var later = function() {\n          var last = dateNow() - timestamp;\n\n          if (last < wait && last >= 0) {\n            timeout = setTimeout(later, wait - last);\n          } else {\n            timeout = null;\n            if (!immediate) {\n              result = func.apply(context, args);\n              if (!timeout) context = args = null;\n            }\n          }\n        };\n\n        return function() {\n          context = this;\n          args = arguments;\n          timestamp = dateNow();\n          var callNow = immediate && !timeout;\n          if (!timeout) timeout = setTimeout(later, wait);\n          if (callNow) {\n            result = func.apply(context, args);\n            context = args = null;\n          }\n\n          return result;\n        };\n      },\n      GetResultCount: function() {\n        var currentCount = $(\n          \".customer-grid-container .customer-grid-item\"\n        ).filter(function() {\n          return $(this).css(\"display\") == \"block\";\n        }).length;\n        return \"Showing \" + currentCount + \" Results\";\n      },\n      FilterList: function() {\n        var triggeredCount = false;\n        var currentTime = null;\n        var selectTerm;\n        var searchTerm;\n        var timeOut;\n\n        var updateGrid = function(val) {\n          if (val) {\n            $(\".customer-list\")\n              .find(\".customer-name:not(:contains(\" + val + \"))\")\n              .parent()\n              .slideUp();\n            $(\".customer-list\")\n              .find(\".customer-name:contains(\" + val + \")\")\n              .parent()\n              .slideDown(function () {\n                var stringValue = customerSearch.GetResultCount();\n                $(\".total-result\").html(stringValue);\n              });\n          } else {\n            $(\".customer-list\")\n              .find(\".customer-grid-item\")\n              .slideDown(function () {\n                var stringValue = customerSearch.GetResultCount();\n                $(\".total-result\").html(stringValue);\n              });\n          }\n        };\n\n        $(\".filterinput\").keyup(function (e) {\n          searchTerm = $(\".filterinput\")\n            .val()\n            .toLowerCase();\n\n          clearTimeout(timeOut);\n\n          timeOut = setTimeout(function() {\n            var stringValue = customerSearch.GetResultCount();\n            $(\".total-result\").html(stringValue);\n            customerSearch.DebounceCall(updateGrid(searchTerm), 250);\n          }, 300);\n        });\n        \n\n        $(\"#filter-category\").change(function () {\n          selectTerm = $(this)\n            .find(\":selected\")\n            .val()\n            .toLowerCase();\n          if (selectTerm === \"all\") {\n            $(\".customer-list\")\n              .find(\".customer-grid-item\")\n              .slideDown(function () {\n                var stringValue = customerSearch.GetResultCount();\n                $(\".total-result\").html(stringValue);\n              });\n    \n          } else {\n            updateGrid(selectTerm);\n          }\n\n        });\n      },\n      BindEvents: function() {\n        $(\".customer-grid-container .customer-grid-item\").each(function() {\n          if (\n            $(this)\n              .find(\"#card-copy\")\n              .text() != \"\"\n          ) {\n            // $(this).hover(\n            //   function() {\n            //     $(this)\n            //       .find(\".text-container\")\n            //       .css(\"display\", \"block\")\n            //       .addClass(\"animated fadeInDown text-box-shadow\");\n            //     $(this)\n            //       .find(\".image-container\")\n            //       .addClass(\"image-box-shadow\");\n            //   },\n            //   function() {\n            //     $(this)\n            //       .find(\".text-container\")\n            //       .css(\"display\", \"none\")\n            //       .removeClass(\"animated fadeInDown text-box-shadow\");\n            //     $(this)\n            //       .find(\".image-container\")\n            //       .removeClass(\"image-box-shadow\");\n            //   }\n            // );\n          }\n        });\n\n        $(\".mobile-grid-container .customer-grid-item\").each(function() {\n          $(this).on(\"click\", function() {\n            $(this)\n              .find(\".text-container\")\n              .toggle();\n            $(this)\n              .find(\".customer-name\")\n              .toggleClass(\"open\");\n          });\n        });\n      },\n      init: function() {\n        if (this.debug) {\n          console.log(\"customerSearch.init()\");\n        }\n\n        var currentCount;\n        var stringValue = customerSearch.GetResultCount();\n\n        $(\"body\").css(\"background-color\", \"#f7f8fa\");\n        $(\".single-cta-container, .resource-container\").css(\n          \"background-color\",\n          \"white\"\n        );\n\n        customerSearch.BindEvents();\n        customerSearch.FilterList();\n\n        $(\".total-result\").html(stringValue);\n      }\n    };\n    customerSearch.init();\n  });\n};\n"]}