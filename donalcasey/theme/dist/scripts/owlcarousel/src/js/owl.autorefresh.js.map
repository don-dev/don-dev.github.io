{"version":3,"sources":["owlcarousel/src/js/owl.autorefresh.js"],"names":["$","window","document","undefined","AutoRefresh","carousel","_core","_interval","_visible","_handlers","proxy","e","namespace","settings","autoRefresh","watch","options","extend","Defaults","$element","on","autoRefreshInterval","prototype","is","setInterval","refresh","toggleClass","invalidate","destroy","handler","property","clearInterval","off","Object","getOwnPropertyNames","fn","owlCarousel","Constructor","Plugins","Zepto","jQuery"],"mappings":"AAAA;;;;;;;AAOA,CAAC,CAAC,UAASA,CAAT,EAAYC,MAAZ,EAAoBC,QAApB,EAA8BC,SAA9B,EAAyC;;AAE1C;;;;;AAKA,KAAIC,cAAc,UAASC,QAAT,EAAmB;AACpC;;;;;AAKA,OAAKC,KAAL,GAAaD,QAAb;;AAEA;;;;;AAKA,OAAKE,SAAL,GAAiB,IAAjB;;AAEA;;;;;AAKA,OAAKC,QAAL,GAAgB,IAAhB;;AAEA;;;;;AAKA,OAAKC,SAAL,GAAiB;AAChB,+BAA4BT,EAAEU,KAAF,CAAQ,UAASC,CAAT,EAAY;AAC/C,QAAIA,EAAEC,SAAF,IAAe,KAAKN,KAAL,CAAWO,QAAX,CAAoBC,WAAvC,EAAoD;AACnD,UAAKC,KAAL;AACA;AACD,IAJ2B,EAIzB,IAJyB;AADZ,GAAjB;;AAQA;AACA,OAAKT,KAAL,CAAWU,OAAX,GAAqBhB,EAAEiB,MAAF,CAAS,EAAT,EAAab,YAAYc,QAAzB,EAAmC,KAAKZ,KAAL,CAAWU,OAA9C,CAArB;;AAEA;AACA,OAAKV,KAAL,CAAWa,QAAX,CAAoBC,EAApB,CAAuB,KAAKX,SAA5B;AACA,EAxCD;;AA0CA;;;;AAIAL,aAAYc,QAAZ,GAAuB;AACtBJ,eAAa,IADS;AAEtBO,uBAAqB;AAFC,EAAvB;;AAKA;;;AAGAjB,aAAYkB,SAAZ,CAAsBP,KAAtB,GAA8B,YAAW;AACxC,MAAI,KAAKR,SAAT,EAAoB;AACnB;AACA;;AAED,OAAKC,QAAL,GAAgB,KAAKF,KAAL,CAAWa,QAAX,CAAoBI,EAApB,CAAuB,UAAvB,CAAhB;AACA,OAAKhB,SAAL,GAAiBN,OAAOuB,WAAP,CAAmBxB,EAAEU,KAAF,CAAQ,KAAKe,OAAb,EAAsB,IAAtB,CAAnB,EAAgD,KAAKnB,KAAL,CAAWO,QAAX,CAAoBQ,mBAApE,CAAjB;AACA,EAPD;;AASA;;;AAGAjB,aAAYkB,SAAZ,CAAsBG,OAAtB,GAAgC,YAAW;AAC1C,MAAI,KAAKnB,KAAL,CAAWa,QAAX,CAAoBI,EAApB,CAAuB,UAAvB,MAAuC,KAAKf,QAAhD,EAA0D;AACzD;AACA;;AAED,OAAKA,QAAL,GAAgB,CAAC,KAAKA,QAAtB;;AAEA,OAAKF,KAAL,CAAWa,QAAX,CAAoBO,WAApB,CAAgC,YAAhC,EAA8C,CAAC,KAAKlB,QAApD;;AAEA,OAAKA,QAAL,IAAkB,KAAKF,KAAL,CAAWqB,UAAX,CAAsB,OAAtB,KAAkC,KAAKrB,KAAL,CAAWmB,OAAX,EAApD;AACA,EAVD;;AAYA;;;AAGArB,aAAYkB,SAAZ,CAAsBM,OAAtB,GAAgC,YAAW;AAC1C,MAAIC,OAAJ,EAAaC,QAAb;;AAEA7B,SAAO8B,aAAP,CAAqB,KAAKxB,SAA1B;;AAEA,OAAKsB,OAAL,IAAgB,KAAKpB,SAArB,EAAgC;AAC/B,QAAKH,KAAL,CAAWa,QAAX,CAAoBa,GAApB,CAAwBH,OAAxB,EAAiC,KAAKpB,SAAL,CAAeoB,OAAf,CAAjC;AACA;AACD,OAAKC,QAAL,IAAiBG,OAAOC,mBAAP,CAA2B,IAA3B,CAAjB,EAAmD;AAClD,UAAO,KAAKJ,QAAL,CAAP,IAAyB,UAAzB,KAAwC,KAAKA,QAAL,IAAiB,IAAzD;AACA;AACD,EAXD;;AAaA9B,GAAEmC,EAAF,CAAKC,WAAL,CAAiBC,WAAjB,CAA6BC,OAA7B,CAAqClC,WAArC,GAAmDA,WAAnD;AAEA,CAvGA,EAuGEH,OAAOsC,KAAP,IAAgBtC,OAAOuC,MAvGzB,EAuGiCvC,MAvGjC,EAuGyCC,QAvGzC","file":"owl.autorefresh.js","sourcesContent":["/**\n * AutoRefresh Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.$element.is(':visible');\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.$element.is(':visible') === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n"]}