{"version":3,"sources":["owlcarousel/src/js/owl.lazyload.js"],"names":["$","window","document","undefined","Lazy","carousel","_core","_loaded","_handlers","proxy","e","namespace","settings","lazyLoad","property","name","type","n","center","Math","ceil","items","i","position","value","current","clones","length","load","v","relative","each","options","extend","Defaults","$element","on","prototype","$item","$stage","children","eq","$elements","find","inArray","get","index","element","image","url","devicePixelRatio","attr","trigger","is","one","css","Image","onload","src","push","destroy","handler","handlers","off","Object","getOwnPropertyNames","fn","owlCarousel","Constructor","Plugins","Zepto","jQuery"],"mappings":"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","file":"owl.lazyload.js","sourcesContent":["/**\n * Lazy Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n\t\t\t\turl = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n"]}